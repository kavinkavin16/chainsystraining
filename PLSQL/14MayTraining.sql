-- CUSTOMER_PERSONAL_INFO
?
CREATE TABLE CUSTOMER_PERSONAL_INFO
(
 CUSTOMER_ID VARCHAR(5),
 CUSTOMER_NAME VARCHAR(30),
 DATE_OF_BIRTH  DATE,
 GUARDIAN_NAME VARCHAR(30),
 ADDRESS VARCHAR(50),
 CONTACT_NO NUMBER(10),
 MAIL_ID  VARCHAR(30),
 GENDER CHAR(1),
 MARITAL_STATUS VARCHAR(10),
 IDENTIFICATION_DOC_TYPE VARCHAR(20),
 ID_DOC_NO VARCHAR(20),
 CITIZENSHIP VARCHAR(10),
 CONSTRAINT CUST_PERS_INFO_PK PRIMARY KEY(CUSTOMER_ID)
);
?
-- CUSTOMER_REFERENCE_INFO
?
CREATE TABLE CUSTOMER_REFERENCE_INFO
(
  CUSTOMER_ID VARCHAR(5),
  REFERENCE_ACC_NAME  VARCHAR(20),
  REFERENCE_ACC_NO NUMBER(16),
  REFERENCE_ACC_ADDRESS VARCHAR(50),
  RELATION VARCHAR(25),
  CONSTRAINT CUST_REF_INFO_PK PRIMARY KEY(CUSTOMER_ID),
  CONSTRAINT CUST_REF_INFO_FK FOREIGN KEY(CUSTOMER_ID) REFERENCES   CUSTOMER_PERSONAL_INFO(CUSTOMER_ID)
);
?
-- BANK_INFO
?
CREATE TABLE BANK_INFO
(
  IFSC_CODE   VARCHAR(15),
  BANK_NAME   VARCHAR(25),
  BRANCH_NAME VARCHAR(25),
  CONSTRAINT BANK_INFO_PK PRIMARY KEY(IFSC_CODE)
);
?
?
?
-- ACCOUNT_INFO
?
CREATE TABLE ACCOUNT_INFO
(
 ACCOUNT_NO NUMBER(16),
 CUSTOMER_ID VARCHAR(5),
 ACCOUNT_TYPE VARCHAR(10),
 REGISTRATION_DATE DATE,
 ACTIVATION_DATE DATE,
 IFSC_CODE VARCHAR(10),
 INTEREST DECIMAL(7,2),
 INITIAL_DEPOSIT NUMBER(10),   
 CONSTRAINT ACC_INFO_PK PRIMARY KEY(ACCOUNT_NO),
 CONSTRAINT ACC_INFO_PERS_FK FOREIGN KEY(CUSTOMER_ID) REFERENCES CUSTOMER_PERSONAL_INFO(CUSTOMER_ID),
 CONSTRAINT ACC_INFO_BANK_FK FOREIGN KEY(IFSC_CODE) REFERENCES BANK_INFO(IFSC_CODE)
);
?
-- BANK_INFO
?
?
INSERT INTO BANK_INFO(IFSC_CODE,BANK_NAME,BRANCH_NAME)VALUES('HDVL0012','HDFC','VALASARAVAKKAM');
INSERT INTO BANK_INFO(IFSC_CODE,BANK_NAME,BRANCH_NAME) VALUES('SBITN0123','SBI','TNAGAR');
INSERT INTO BANK_INFO(IFSC_CODE,BANK_NAME,BRANCH_NAME) VALUES('ICITN0232','ICICI','TNAGAR');
INSERT INTO BANK_INFO(IFSC_CODE,BANK_NAME,BRANCH_NAME) VALUES('ICIPG0242','ICICI','PERUNGUDI');
INSERT INTO BANK_INFO(IFSC_CODE,BANK_NAME,BRANCH_NAME) VALUES('SBISD0113','SBI','SAIDAPET');
?
-- CUSTOMER_PERSONAL_INFO
?
INSERT INTO CUSTOMER_PERSONAL_INFO(CUSTOMER_ID,CUSTOMER_NAME,DATE_OF_BIRTH,GUARDIAN_NAME,ADDRESS,CONTACT_NO,MAIL_ID,GENDER,MARITAL_STATUS,IDENTIFICATION_DOC_TYPE,ID_DOC_NO,CITIZENSHIP) VALUES('C-001','JOHN','03-MAY-1984','PETER','NO.14, ST.MARKS ROAD,BANGALORE',9734526719,'JOHN_123@gmail.com','M','SINGLE','PASSPORT','PASS123','INDIAN');
INSERT INTO CUSTOMER_PERSONAL_INFO(CUSTOMER_ID,CUSTOMER_NAME,DATE_OF_BIRTH,GUARDIAN_NAME,ADDRESS,CONTACT_NO,MAIL_ID,GENDER,MARITAL_STATUS,IDENTIFICATION_DOC_TYPE,ID_DOC_NO,CITIZENSHIP) VALUES('C-002','JAMES','06-AUG-1984','GEORGE','NO.18, MG ROAD,BANGALORE',9237893481,'JAMES_123@gmail.com','M','MARRIED','PASSPORT','PASS124','INDIAN');
INSERT INTO CUSTOMER_PERSONAL_INFO(CUSTOMER_ID,CUSTOMER_NAME,DATE_OF_BIRTH,GUARDIAN_NAME,ADDRESS,CONTACT_NO,MAIL_ID,GENDER,MARITAL_STATUS,IDENTIFICATION_DOC_TYPE,ID_DOC_NO,CITIZENSHIP) VALUES('C-003','SUNITHA','06-NOV-1984','VINOD','NO.21, GM ROAD,CHENNAI',9438978389,'SUNITHA_123@gmail.com','F','SINGLE','VOTER-ID','GMV1234','INDIAN');
INSERT INTO CUSTOMER_PERSONAL_INFO(CUSTOMER_ID,CUSTOMER_NAME,DATE_OF_BIRTH,GUARDIAN_NAME,ADDRESS,CONTACT_NO,MAIL_ID,GENDER,MARITAL_STATUS,IDENTIFICATION_DOC_TYPE,ID_DOC_NO,CITIZENSHIP) VALUES('C-004','RAMESH','11-DEC-1985','KRISHNAN','NO.14,LB ROAD,CHENNAI',9235234534,'RAMESH_123@gmail.com','M','MARRIED','PASSPORT','PASS125','INDIAN');
INSERT INTO CUSTOMER_PERSONAL_INFO(CUSTOMER_ID,CUSTOMER_NAME,DATE_OF_BIRTH,GUARDIAN_NAME,ADDRESS,CONTACT_NO,MAIL_ID,GENDER,MARITAL_STATUS,IDENTIFICATION_DOC_TYPE,ID_DOC_NO,CITIZENSHIP) VALUES('C-005','KUMAR','26-APR-1983','KIRAN','NO.18,MM ROAD,BANGALORE',9242342312,'KUMAR_123@gmail.com','M','SINGLE','PASSPORT','PASS126','INDIAN');
?
?
?
-- CUSTOMER_REFERENCE_INFO
?
INSERT INTO CUSTOMER_REFERENCE_INFO(CUSTOMER_ID,REFERENCE_ACC_NAME,REFERENCE_ACC_NO,REFERENCE_ACC_ADDRESS,RELATION) VALUES('C-001','RAM',0987654321122345,'NO.11,BRIGRADE ROAD,BANGALORE','FRIEND');
INSERT INTO CUSTOMER_REFERENCE_INFO(CUSTOMER_ID,REFERENCE_ACC_NAME,REFERENCE_ACC_NO,REFERENCE_ACC_ADDRESS,RELATION) VALUES('C-002','RAGHUL',0987654321122346,'NO.21,CUNNGHAM ROAD,BANGALORE','FRIEND');
INSERT INTO CUSTOMER_REFERENCE_INFO(CUSTOMER_ID,REFERENCE_ACC_NAME,REFERENCE_ACC_NO,REFERENCE_ACC_ADDRESS,RELATION) VALUES('C-003','GOKUL',0987654321122357,'NO.12,OMR,CHENNAI','NEIGHBOUR');
INSERT INTO CUSTOMER_REFERENCE_INFO(CUSTOMER_ID,REFERENCE_ACC_NAME,REFERENCE_ACC_NO,REFERENCE_ACC_ADDRESS,RELATION) VALUES('C-004','RAHMAN',0987654321122348,'NO.35,ECR,CHENNAI','FRIEND');
INSERT INTO CUSTOMER_REFERENCE_INFO(CUSTOMER_ID,REFERENCE_ACC_NAME,REFERENCE_ACC_NO,REFERENCE_ACC_ADDRESS,RELATION) VALUES('C-005','VIVEK',0987654321122359,'NO.78,JAYA NAGAR,BANGALORE','NEIGHBOUR');
?
?
-- ACCOUNT_INFO
?
?
INSERT INTO ACCOUNT_INFO(ACCOUNT_NO,CUSTOMER_ID,ACCOUNT_TYPE,REGISTRATION_DATE,ACTIVATION_DATE,IFSC_CODE,INTEREST, INITIAL_DEPOSIT) VALUES(1234567898765432,'C-001','SAVINGS','23-FEB-2012','28-FEB-2012','HDVL0012',5,10000); 
INSERT INTO ACCOUNT_INFO(ACCOUNT_NO,CUSTOMER_ID,ACCOUNT_TYPE,REGISTRATION_DATE,ACTIVATION_DATE,IFSC_CODE,INTEREST, INITIAL_DEPOSIT) VALUES(1234567898765433,'C-002','SALARY','12-MAR-2012','17-MAR-2012','SBITN0123',6,0 ); 
INSERT INTO ACCOUNT_INFO(ACCOUNT_NO,CUSTOMER_ID,ACCOUNT_TYPE,REGISTRATION_DATE,ACTIVATION_DATE,IFSC_CODE,INTEREST, INITIAL_DEPOSIT) VALUES(1234567898765434,'C-003','SAVINGS','15-MAR-2012','20-MAR-2012','ICITN0232',4,16000 ); 
INSERT INTO ACCOUNT_INFO(ACCOUNT_NO,CUSTOMER_ID,ACCOUNT_TYPE,REGISTRATION_DATE,ACTIVATION_DATE,IFSC_CODE,INTEREST, INITIAL_DEPOSIT) VALUES(1234567898765435,'C-004','SALARY','05-APR-2012','10-APR-2012','HDVL0012',7,0);
INSERT INTO ACCOUNT_INFO(ACCOUNT_NO,CUSTOMER_ID,ACCOUNT_TYPE,REGISTRATION_DATE,ACTIVATION_DATE,IFSC_CODE,INTEREST, INITIAL_DEPOSIT) VALUES(1234567898765436,'C-005','SAVINGS','12-APR-2012','17-APR-2012','SBISD0113',8,20000); 
     
-----------------------------------------------
show autocommit;

---------------------------------
SELECT * 
FROM ALL_OBJECTS
WHERE OWNER = 'ROOT';
------------------------------------------------------------------------------------
------------------------------------------------------------------------------------



--kishore tables--
SELECT * FROM CUSTOMER_PERSONAL_INFO_2605;  
SELECT * FROM CUSTOMER_REFERENCE_INFO_2605;
SELECT * FROM BANK_INFO_2605;
SELECT * FROM ACCOUNT_INFO_2605;

------------------------------------------------------------------------------------
------------------------------------------------------------------------------------    
CREATE TABLE XX_ACC_HOLDER( NAME VARCHAR2(100), CREATED_DATE DATE);
INSERT INTO XX_ACC_HOLDER VALUES('PREM','01-FEB-2014','INDIAN',111);
INSERT INTO XX_ACC_HOLDER VALUES('VIKRAM','10-FEB-2014','INDIAN',111);
INSERT INTO XX_ACC_HOLDER VALUES('MANI','14-FEB-2014','INDIAN',222);
INSERT INTO XX_ACC_HOLDER VALUES('JANANI','20-FEB-2014','INDIAN',333);
INSERT INTO XX_ACC_HOLDER VALUES('SELVI','19-FEB-2014','INDIAN',444);


DESC XX_ACC_HOLDER;
--1) Write an query to print details of the ACCOUNT HOLDERS who have CREATED in Feb’2014
SELECT NAME, CREATED_DATE FROM XX_ACC_HOLDER WHERE
   CREATED_DATE BETWEEN
     to_date('02-01-2014','MM-DD-YYYY')
   AND
     to_date('02-28-2014','MM-DD-YYYY');

--2)QUERY TO SHOW CURRENT DATE AND TIME
SELECT TO_CHAR (SYSDATE, 'MM-DD-YYYY HH24:MI:SS') "CURRENTDATE and TIME" FROM DUAL;

--3) WRITE QUERY TO FIND THE LAST LOGIN FROM EMPLOYEE.

select
   username,
   last_login
from
   dba_users
order by
   username;
-----------------------------------------------------------------------------

ALTER TABLE XX_ACC_HOLDER ADD NATIONALITY VARCHAR(20);
ALTER TABLE XX_ACC_HOLDER ADD DEPT_NO NUMBER;
----------------------------------------------------------------------------
CREATE TABLE XX_ACC_DEPT(DEPT_NO NUMBER,DEPT_NAME VARCHAR2(100));
DESC XX_ACC_DEPT;

----------------------------------------------------------------------------
delete from xx_acc_holder;
INSERT INTO XX_ACC_DEPT VALUES(111,'CSE');
INSERT INTO XX_ACC_DEPT VALUES(222,'ECE');
INSERT INTO XX_ACC_DEPT VALUES(333,'EEE');
INSERT INTO XX_ACC_DEPT VALUES(444,'IT');

--------------------------------------------------------------------------------------------------------------------------------------
SELECT NAME,A.DEPT_NO as acc_table,B.DEPT_NAME as dept_table FROM XX_ACC_HOLDER A, XX_ACC_DEPT B WHERE A.DEPT_NO=B.DEPT_NO ORDER BY A.DEPT_NO;
---------------------------------------------------------------------------------------------------------------------------------------
--
--Selvi VTS12:36 PM
--CREATE SEQUENCE ADD INSERT VALUES
--Selvi VTS12:50 PM
--create sequence sequence_name(standard:tablename_columnnameforWhichUNeedAutoGenertedValue_seq)
--
--CREATE SEQUENCE ACCOUNT_ACCNO_SEQ START WITH 1 INCREMENT BY 5;
    CREATE SEQUENCE XX_ACC_HOLD START WITH 5 INCREMENT BY 5;
    DESC XX_ACC_HOLDER;
    DELETE FROM XX_ACC_HOLDER;
    ALTER TABLE XX_ACC_HOLDER ADD USERID INT;
INSERT INTO XX_ACC_HOLDER VALUES('PREM','01-FEB-2014','INDIAN',111,XX_ACC_HOLD.NEXTVAL);
INSERT INTO XX_ACC_HOLDER VALUES('VIKRAM','10-FEB-2014','INDIAN',111,XX_ACC_HOLD.NEXTVAL);
INSERT INTO XX_ACC_HOLDER VALUES('MANI','14-FEB-2014','INDIAN',222,XX_ACC_HOLD.NEXTVAL);
INSERT INTO XX_ACC_HOLDER VALUES('JANANI','20-FEB-2014','INDIAN',333,XX_ACC_HOLD.NEXTVAL);
INSERT INTO XX_ACC_HOLDER VALUES('SELVI','19-FEB-2014','INDIAN',444,XX_ACC_HOLD.NEXTVAL);
SELECT * FROM XX_ACC_HOLDER;

------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------


